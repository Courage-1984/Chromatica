<!-- Search Section -->
<div class="section-header">
    <h2>üîç Color Search</h2>
    <p>Search for images by color using our advanced color matching algorithm</p>
</div>

<!-- Color Input Section -->
<div class="color-input-section">
    <div class="color-picker-container">
        <label for="colorPicker">Select Color:</label>
        <input type="color" id="colorPicker" value="#FF0000" class="color-picker">
        <div class="color-display" id="colorDisplay" style="background-color: #FF0000;"></div>
    </div>
    
    <div class="weight-slider-container">
        <label for="weightSlider">Weight: <span id="weightValue">100</span>%</label>
        <input type="range" id="weightSlider" min="0" max="100" value="100" class="weight-slider">
    </div>
    
    <div class="search-controls">
        <button id="addColorBtn" class="btn btn-primary">Add Color</button>
        <button id="clearColorsBtn" class="btn btn-secondary">Clear All</button>
        <button id="searchBtn" class="btn btn-accent">Search Images</button>
    </div>
</div>

<!-- Color Palette Display -->
<div class="color-palette" id="colorPalette">
    <div class="color-item" style="background-color: #FF0000;">
        <span class="color-weight">100%</span>
        <button class="remove-color" onclick="removeColor(0)">√ó</button>
    </div>
</div>

<!-- Loading Indicator -->
<div id="loading" class="loading-indicator" style="display: none;">
    <div class="spinner"></div>
    <p>Searching for similar images...</p>
</div>

<!-- Success Display -->
<div id="success" class="alert alert-success" style="display: none;"></div>

<!-- Error Display -->
<div id="error" class="alert alert-error" style="display: none;"></div>

<!-- Search Statistics -->
<div id="searchStats" class="search-stats" style="display: none;">
    <h3>Search Statistics</h3>
    <div class="stats-grid">
        <div class="stat-item">
            <span class="stat-label">Total Images:</span>
            <span class="stat-value" id="totalImages">0</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">Search Time:</span>
            <span class="stat-value" id="searchTime">0ms</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">Index Size:</span>
            <span class="stat-value" id="indexSize">0</span>
        </div>
    </div>
</div>

<!-- Ranking Explanation -->
<div class="ranking-explanation">
    <h3>How Our Search Works</h3>
    <p>Our color search uses advanced algorithms to find the most similar images:</p>
    <ul>
        <li><strong>Color Histogram Analysis:</strong> Each image is converted to CIE Lab color space and analyzed for color distribution</li>
        <li><strong>FAISS Indexing:</strong> Fast approximate nearest neighbor search using HNSW algorithm</li>
        <li><strong>Earth Mover's Distance:</strong> Final ranking uses Sinkhorn-approximated EMD for accurate color similarity</li>
    </ul>
</div>
